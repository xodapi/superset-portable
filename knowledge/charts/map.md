---
title: –ö–∞—Ä—Ç–∞ (–≥–µ–æ–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è)
status: public
created: 2026-01-28
tags: [–¥–∏–∞–≥—Ä–∞–º–º—ã, –∫–∞—Ä—Ç–∞, map, geo, deck.gl]
---

# –ö–∞—Ä—Ç–∞ (–≥–µ–æ–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è) üó∫Ô∏è

–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —Å –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–π –ø—Ä–∏–≤—è–∑–∫–æ–π.

---

## –¢–∏–ø—ã –∫–∞—Ä—Ç –≤ Superset

| –¢–∏–ø | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ |
|-----|---------------|
| **Deck.gl Scatter** | –¢–æ—á–∫–∏ –Ω–∞ –∫–∞—Ä—Ç–µ |
| **Deck.gl Polygon** | –û–±–ª–∞—Å—Ç–∏/—Ä–µ–≥–∏–æ–Ω—ã |
| **Deck.gl Path** | –ú–∞—Ä—à—Ä—É—Ç—ã –∏ –ª–∏–Ω–∏–∏ |
| **Deck.gl GeoJSON** | –ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –≥–µ–æ–¥–∞–Ω–Ω—ã–µ |
| **Deck.gl Heatmap** | –¢–µ–ø–ª–æ–≤–∞—è –∫–∞—Ä—Ç–∞ |
| **Country Map** | –•–æ—Ä–æ–ø–ª–µ—Ç –ø–æ —Å—Ç—Ä–∞–Ω–∞–º |

---

## –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö

### –§–æ—Ä–º–∞—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç

```sql
SELECT 
    city,
    latitude,   -- —à–∏—Ä–æ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: 55.7558)
    longitude,  -- –¥–æ–ª–≥–æ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: 37.6173)
    sales
FROM stores
```

### GeoJSON

–î–ª—è —Å–ª–æ–∂–Ω—ã—Ö –≥–µ–æ–º–µ—Ç—Ä–∏–π:

```json
{
    "type": "Feature",
    "geometry": {
        "type": "Point",
        "coordinates": [37.6173, 55.7558]
    },
    "properties": {
        "name": "–ú–æ—Å–∫–≤–∞",
        "sales": 1500000
    }
}
```

> [!NOTE]
> –í GeoJSON –ø–æ—Ä—è–¥–æ–∫ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç: `[longitude, latitude]` (–¥–æ–ª–≥–æ—Ç–∞, —à–∏—Ä–æ—Ç–∞)!

---

## Deck.gl Scatter (—Ç–æ—á–∫–∏)

### –°–æ–∑–¥–∞–Ω–∏–µ

1. **"+" ‚Üí Chart**
2. –î–∞—Ç–∞—Å–µ—Ç —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏
3. –¢–∏–ø: **"deck.gl Scatterplot"**

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| **Longitude** | –°—Ç–æ–ª–±–µ—Ü –¥–æ–ª–≥–æ—Ç—ã |
| **Latitude** | –°—Ç–æ–ª–±–µ—Ü —à–∏—Ä–æ—Ç—ã |
| **Point Radius** | –†–∞–∑–º–µ—Ä —Ç–æ—á–µ–∫ (—Ñ–∏–∫—Å. –∏–ª–∏ –º–µ—Ç—Ä–∏–∫–∞) |
| **Point Color** | –¶–≤–µ—Ç (—Ñ–∏–∫—Å. –∏–ª–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏) |

### –ü—Ä–∏–º–µ—Ä: –º–∞–≥–∞–∑–∏–Ω—ã –Ω–∞ –∫–∞—Ä—Ç–µ

```sql
SELECT 
    store_name,
    lat,
    lon,
    monthly_sales,
    region
FROM stores
```

- **Longitude** ‚Üí `lon`
- **Latitude** ‚Üí `lat`
- **Point Radius** ‚Üí `monthly_sales` (—Ä–∞–∑–º–µ—Ä = –ø—Ä–æ–¥–∞–∂–∏)
- **Dimension** ‚Üí `region` (—Ü–≤–µ—Ç –ø–æ —Ä–µ–≥–∏–æ–Ω—É)

---

## Deck.gl GeoJSON

### –î–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Ñ–æ—Ä–º

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å GeoJSON –≤ —Å—Ç–æ–ª–±—Ü–µ:

```sql
SELECT 
    region_name,
    geojson_geometry,  -- —Å—Ç–æ–ª–±–µ—Ü —Å GeoJSON
    population
FROM regions
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| **GeoJSON** | –°—Ç–æ–ª–±–µ—Ü —Å –≥–µ–æ–º–µ—Ç—Ä–∏–µ–π |
| **Fill Color** | –¶–≤–µ—Ç –∑–∞–ª–∏–≤–∫–∏ |
| **Stroke Color** | –¶–≤–µ—Ç –≥—Ä–∞–Ω–∏—Ü |
| **Metric** | –î–ª—è –æ–∫—Ä–∞—Å–∫–∏ –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é |

---

## Deck.gl Path (–º–∞—Ä—à—Ä—É—Ç—ã)

### –î–ª—è –ª–∏–Ω–∏–π –∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤

```sql
SELECT 
    route_id,
    '[' || 
    '[' || start_lon || ',' || start_lat || '],' ||
    '[' || end_lon || ',' || end_lat || ']' ||
    ']' as path,
    passengers
FROM routes
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| **Path JSON** | –ú–∞—Å—Å–∏–≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç |
| **Line Width** | –¢–æ–ª—â–∏–Ω–∞ (—Ñ–∏–∫—Å. –∏–ª–∏ –º–µ—Ç—Ä–∏–∫–∞) |
| **Color** | –¶–≤–µ—Ç –ª–∏–Ω–∏–∏ |

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑–æ–≤–æ–π –∫–∞—Ä—Ç—ã (Mapbox)

### –°—Ç–∏–ª–∏ –∫–∞—Ä—Ç

| –°—Ç–∏–ª—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| **Streets** | –£–ª–∏—Ü—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) |
| **Light** | –°–≤–µ—Ç–ª–∞—è (–¥–ª—è –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π) |
| **Dark** | –¢—ë–º–Ω–∞—è (–¥–ª—è –¥–∞—à–±–æ—Ä–¥–æ–≤) |
| **Satellite** | –°–ø—É—Ç–Ω–∏–∫–æ–≤—ã–µ —Å–Ω–∏–º–∫–∏ |
| **Outdoors** | –¢–æ–ø–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è |

### Mapbox Token

–î–ª—è –∫–∞—Ä—Ç Mapbox –Ω—É–∂–µ–Ω API-–∫–ª—é—á:

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [mapbox.com](https://mapbox.com)
2. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω
3. –î–æ–±–∞–≤—å—Ç–µ –≤ `superset_config.py`:

```python
MAPBOX_API_KEY = 'pk.eyJ1IjoieW91...'
```

---

## –û—Ñ—Ñ–ª–∞–π–Ω –∫–∞—Ä—Ç—ã

> [!WARNING]
> Mapbox —Ç—Ä–µ–±—É–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.

–î–ª—è –æ—Ñ—Ñ–ª–∞–π–Ω —Ä–∞–±–æ—Ç—ã:

### –í–∞—Ä–∏–∞–Ω—Ç 1: OpenStreetMap

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Ç–∞–π–ª-—Å–µ—Ä–≤–µ—Ä.

### –í–∞—Ä–∏–∞–Ω—Ç 2: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–æ–Ω–æ–≤—É—é –∫–∞—Ä—Ç–∏–Ω–∫—É –∫–∞—Ä—Ç—ã.

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ë–µ–∑ –±–∞–∑–æ–≤–æ–π –∫–∞—Ä—Ç—ã

–û—Ç–∫–ª—é—á–∏—Ç–µ –±–∞–∑–æ–≤—É—é –∫–∞—Ä—Ç—É ‚Äî —Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ.

---

## –•–æ—Ä–æ–ø–ª–µ—Ç (Country Map)

### –û–∫—Ä–∞—Å–∫–∞ —Ä–µ–≥–∏–æ–Ω–æ–≤ –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é

```sql
SELECT 
    country_code,  -- ISO-–∫–æ–¥ (RU, US, DE)
    total_sales
FROM sales_by_country
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| **Country Column** | ISO-–∫–æ–¥ —Å—Ç—Ä–∞–Ω—ã |
| **Metric** | –ó–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –æ–∫—Ä–∞—Å–∫–∏ |
| **Linear Color Scheme** | –¶–≤–µ—Ç–æ–≤–∞—è —à–∫–∞–ª–∞ |

---

## –î–µ–º–æ: –í–æ—Å—Ç–æ—á–Ω—ã–π –ø–æ–ª–∏–≥–æ–Ω

–ü–æ—Ä—Ç–∞—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å–∏—è –≤–∫–ª—é—á–∞–µ—Ç –¥–µ–º–æ-–¥–∞—à–±–æ—Ä–¥ —Å –∫–∞—Ä—Ç–æ–π:

```
docs/demo_dashboard/
‚îú‚îÄ‚îÄ charts/
‚îÇ   ‚îî‚îÄ‚îÄ Eastern_Polygon_Map.yaml
‚îî‚îÄ‚îÄ datasets/
    ‚îî‚îÄ‚îÄ rzd_stations.yaml
```

–ö–∞—Ä—Ç–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- –°—Ç–∞–Ω—Ü–∏–∏ –Ω–∞ –¢—Ä–∞–Ω—Å—Å–∏–±–µ –∏ –ë–ê–ú–µ
- –ó–∞–≥—Ä—É–∑–∫—É —É—á–∞—Å—Ç–∫–æ–≤ (—Ü–≤–µ—Ç–æ–º)
- –ü—Ä–æ–ø—É—Å–∫–Ω—É—é —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å (—Ç–æ–ª—â–∏–Ω–æ–π)

---

## –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –î–ª—è –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–æ—á–µ–∫

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|----------|--------------|
| **Limit** | –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ 10,000 —Ç–æ—á–µ–∫ |
| **Aggregation** | –ì—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º |
| **Clustering** | –í–∫–ª—é—á–∏—Ç–µ –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—é |

### –£–ø—Ä–æ—â–µ–Ω–∏–µ –≥–µ–æ–º–µ—Ç—Ä–∏–∏

–î–ª—è —Å–ª–æ–∂–Ω—ã—Ö –ø–æ–ª–∏–≥–æ–Ω–æ–≤:
```sql
ST_Simplify(geometry, 0.01)  -- PostGIS
```

---

## –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

### –ù–∞ –¥–∞—à–±–æ—Ä–¥–µ

- **Hover** ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–µ—Ç–∞–ª–∏
- **Click** ‚Üí —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –¥—Ä—É–≥–∏–µ –¥–∏–∞–≥—Ä–∞–º–º—ã
- **Zoom/Pan** ‚Üí –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –∫–∞—Ä—Ç–µ

### Cross-Filter

–ö–ª–∏–∫ –Ω–∞ —Ä–µ–≥–∏–æ–Ω —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –≤—Å–µ –¥–∏–∞–≥—Ä–∞–º–º—ã –¥–∞—à–±–æ—Ä–¥–∞:

1. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∫–∞—Ä—Ç—ã –≤–∫–ª—é—á–∏—Ç–µ **Emit Filter**
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥—Ä—É–≥–∏–µ –¥–∏–∞–≥—Ä–∞–º–º—ã —Å–≤—è–∑–∞–Ω—ã –ø–æ —Ç–æ–º—É –∂–µ —Å—Ç–æ–ª–±—Ü—É

---

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ö–∞—Ä—Ç–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Mapbox —Ç–æ–∫–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç

### –¢–æ—á–∫–∏ –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –º–µ—Å—Ç–µ

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—è–¥–æ–∫ lat/lon
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ –≥—Ä–∞–¥—É—Å–∞—Ö (–Ω–µ —Ä–∞–¥–∏–∞–Ω–∞—Ö)

### –ö–∞—Ä—Ç–∞ –ø—É—Å—Ç–∞—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ –≤–∏–¥–∏–º–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –Ω–∞—á–∞–ª—å–Ω—ã–π zoom –∏ —Ü–µ–Ω—Ç—Ä

---

## –°–º. —Ç–∞–∫–∂–µ

- [[–°–æ–∑–¥–∞–Ω–∏–µ –¥–∏–∞–≥—Ä–∞–º–º]] ‚Äî –æ–±–∑–æ—Ä –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–π
- [[ClickHouse]] ‚Äî –≥–µ–æ–¥–∞–Ω–Ω—ã–µ –≤ ClickHouse
- [[–†–∞–±–æ—Ç–∞ —Å –¥–∞—à–±–æ—Ä–¥–∞–º–∏]] ‚Äî –∫–æ–º–ø–æ–Ω–æ–≤–∫–∞
